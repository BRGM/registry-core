## Global macros

#macro(linkfor $res)
   <a href="${root}/ui/view?uri=$lib.pathEncode($res.getURI())">$res.name</a>
#end

#macro(render $v)
      #if($v.isResource())
        #linkfor($v)
      #else
        $lib.escapeHtml($v.lexicalForm, 1000)
      #end
#end

## Display a property value in the RDF browser
#macro(resentry $v)
  #if($v.isList())
    <ul>
      #foreach($e in $v.asList())
        <li>#resentry($e)</li>
      #end
    </ul>
  #elseif($v.isAnon())
    #restable($v)
  #else
    #render($v)
  #end
#end

## Display a set of property/value pairs in the RDF browser
#macro(restable $res)
  <table class="table table-bordered table-striped">
    <thead><tr><th>Property</th><th>Value</th></tr></thead>
    <tbody>
      #foreach($pv in $res.listProperties())
        <tr>
          <td> $pv.getProp().name </td>
          <td>
            #foreach($v in $pv.getValues())
              #if($v.isList())
                <ul>
                  #foreach($e in $v.asList())
                    <li>#resentry($e)</li>
                  #end
                </ul>
              #elseif($v.isAnon())
                #restable($v)
              #else
                #resentry($v)
              #end
            #end
            <br />
          </td>
        </tr>
      #end
    </tbody>
  </table>

#end

