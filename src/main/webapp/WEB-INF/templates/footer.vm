    <hr id="footer-line" />
    <div class="row footer">
     <div class="pull-right">Developed by <a href="http://www.epimorphics.com/">Epimorphics Ltd</a></div>
    </div>
   </div> <!-- End of container -->

   <script type="text/javascript" src="$uiroot/js/bootstrap.min.js"></script>
   <script type="text/javascript" src="$uiroot/js/jquery.dataTables.min.js"></script>
   <script type="text/javascript">
    $(function() {
        // enable popups
        $(".popinfo").popover();

        // Set up ajax tabs
        $('.action-tab').bind('show', function(e) {
           var pattern=/#.+/gi
           var contentID = e.target.toString().match(pattern)[0];
           var action = $(contentID).attr('data-action');
           if (action) {
             var url = '$uiroot/' + action +'?uri=$lib.pathEncode($uri)&requestor=$requestor';
             var args = $(contentID).attr('data-args');
             if (args) {
                url = url + "&" + args;
             }
             $(contentID).load(url, function(){
                $('.action-tab').tab(); //reinitialize tabs
                $('.datatable').dataTable();
                // enable an embedded query forms (used in admin pages)
                $(".query-form").each(function() {
                    var target = $(this).attr('data-target');
                    var queryField = $(this).attr('data-query');
                    var resultField = $(this).attr('data-result');
                    $(this).submit( function(){
                        var url = target + $(queryField).val();
                        $(resultField).load(url);
                        return false;
                    });
                });

              });
           };
        });

        // General ajax forms which reload the page when actioned
        $(".ajax-form").ajaxForm({
          success:
              function(data, status, xhr){
                $("#status-dialog").modal("hide");
                location.reload();
              },

          error:
            function(xhr, status, error){
               $(".ajax-error").html("<div class='alert'> <button type='button' class='close' data-dismiss='alert'>&times;</button>Action failed: " + error + " - " + xhr.responseText + "</div>");
            }
        });

    });

   </script>

  </body>
</html>
